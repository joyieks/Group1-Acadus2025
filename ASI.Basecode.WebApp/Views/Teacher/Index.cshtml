@model ASI.Basecode.WebApp.Models.TeacherDashboardViewModel
@{
    Layout = "~/Views/Shared/_AuthenticatedLayout.cshtml";
    ViewData["Title"] = "Teacher Dashboard";
}

<!-- White Section with Statistics Cards -->
<section style="background:#ffffff; padding: 32px 0;">
    <div class="container" style="max-width: 1200px; margin: 0 auto; padding: 0 16px;">
        <div style="display:grid; grid-template-columns: repeat(3, minmax(0, 1fr)); gap:24px; max-width: 900px; margin: 0 auto;">
            @await Component.InvokeAsync("StatisticsCard", new { title = "Total activities", value = Model.TotalActivities ?? 0, icon = "activity" })
            @await Component.InvokeAsync("StatisticsCard", new { title = "Graded Activities", value = Model.GradedActivities ?? 0, icon = "graded" })
            @await Component.InvokeAsync("StatisticsCard", new { title = "Total Courses Handled", value = Model.TotalCoursesHandled ?? 0, icon = "courses" })
        </div>
    </div>
</section>

<!-- Green Section with Overview -->
<section class="bg-[#E8F9E8]" style="padding: 32px 0;">
    <div class="container" style="max-width: 1200px; margin: 0 auto; padding: 0 16px;">
        <h2 style="text-align:center; font-weight:800; margin:0 0 2px 0; font-size:28px; color:#111827;">Overview</h2>
        <p style="text-align:center; margin:0 0 24px 0; color:#4b5563; font-size:16px;">Stay on top of your upcoming tasks and responsibilities</p>

        <div style="display:grid; grid-template-columns: repeat(5, 1fr); gap:24px;">
            <div style="grid-column: span 2;">
                @await Component.InvokeAsync("Calendar")
            </div>
            <div style="grid-column: span 3;">
                @await Component.InvokeAsync("RecentActivity")
            </div>
        </div>
    </div>
</section>

@section Scripts {
    <style>
        /* Subtler table outlines */
        #recentActivityTable {
            border: none !important;
        }
        #recentActivityTable thead th {
            border-bottom: 1px solid #f3f4f6 !important;
        }
        #recentActivityTable tbody td {
            border-bottom: 1px solid #f3f4f6 !important;
        }

        /* Pagination button styles to match CourseCard buttons */
        .dataTables_paginate .paginate_button {
            background: transparent !important;
            border: none !important;
            border-radius: 8px !important;
            padding: 10px !important;
            color: #374151 !important;
            cursor: pointer !important;
            transition: background-color 0.2s !important;
            margin: 0 2px !important;
        }
        .dataTables_paginate .paginate_button:hover {
            background: #F2F7F2 !important; /* Lighter, more grayish green */
        }
        .dataTables_paginate .paginate_button.current {
            background: #E0F0E0 !important; /* A step darker */
            font-weight: bold !important;
        }
        .dataTables_paginate .paginate_button.disabled {
            opacity: 0.5 !important;
            cursor: not-allowed !important;
        }
    </style>
    <script>
        $(document).ready(function() {
            $('#recentActivityTable').DataTable({
                paging: true,
                pageLength: 5,
                searching: false,
                ordering: true,
                info: false,
                lengthChange: false,
                "language": {
                    "paginate": {
                        "previous": "Prev",
                        "next": "Next"
                    }
                }
            });
        });
    </script>
}


