@model ASI.Basecode.WebApp.Models.StudentProfileViewModel
@{
    Layout = "~/Views/Student/Navigation.cshtml";
    ViewData["Title"] = "Profile Management - Acadus";
}

<script src="https://cdn.tailwindcss.com"></script>
<script>
    tailwind.config = {
        theme: {
            extend: {
                colors: {
                    'acadus-green': '#2d5a27',
                    'acadus-light-green': '#4a7c59'
                }
            }
        }
    }
</script>

<main class="max-w-4xl mx-auto px-4 md:px-8 pt-4 pb-12">
    <section class="mb-8">
        <h1 class="text-3xl font-bold text-[#337D58] mb-2">Profile Management</h1>
        <p class="text-gray-600">Manage your personal information and account settings</p>
    </section>

    @if (ViewBag.NoDataMessage != null)
    {
        <div class="bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 rounded-lg">
            <p>@ViewBag.NoDataMessage</p>
        </div>
    }
    else
    {
        <!-- Profile Header -->
        <div class="bg-acadus-green rounded-xl p-6 mb-8 text-white relative overflow-hidden">
            <div class="absolute inset-0 bg-gradient-to-r from-acadus-green to-acadus-light-green opacity-90"></div>
            <div class="relative z-10 flex items-center gap-6">
                <div class="relative">
                    <div class="w-20 h-20 bg-white rounded-full flex items-center justify-center overflow-hidden">
                        @if (!string.IsNullOrEmpty(Model.ProfileImageUrl))
                        {
                            <img src="@Model.ProfileImageUrl" alt="Profile" class="w-full h-full object-cover" />
                        }
                        else
                        {
                            <div class="w-16 h-16 bg-gray-300 rounded-full flex items-center justify-center">
                                <svg class="w-8 h-8 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                          d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                                </svg>
                            </div>
                        }
                    </div>
                </div>
                <div>
                    <h2 class="text-2xl font-bold">@Model.FullName</h2>
                    <p class="text-white/90 mb-1">Student ID: @Model.StudentId</p>
                    <p class="text-white/90 mb-1">Program: @Model.Program</p>
                    <p class="text-white/90">Year Level: @Model.YearLevel</p>
                </div>
            </div>
        </div>

        <!-- Personal Info -->
        <div class="bg-white rounded-xl shadow-lg mb-6 overflow-hidden">
            <div class="bg-gray-50 px-6 py-4 border-b">
                <h3 class="text-lg font-semibold text-gray-800">Personal Information</h3>
            </div>
            <div class="p-6 grid md:grid-cols-2 gap-6">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Email Address</label>
                    <input type="email" value="@Model.EmailAddress" class="w-full px-4 py-3 border rounded-lg bg-gray-50" readonly />
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Phone Number</label>
                    <input type="text" value="@Model.PhoneNumber" class="w-full px-4 py-3 border rounded-lg bg-gray-50" readonly />
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">First Name</label>
                    <input type="text" value="@Model.FirstName" class="w-full px-4 py-3 border rounded-lg" readonly />
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Last Name</label>
                    <input type="text" value="@Model.LastName" class="w-full px-4 py-3 border rounded-lg" readonly />
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Date of Birth</label>
                    <input type="text" value="@Model.DateOfBirth?.ToString("MMMM dd, yyyy")" class="w-full px-4 py-3 border rounded-lg" readonly />
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Gender</label>
                    <input type="text" value="@Model.Gender" class="w-full px-4 py-3 border rounded-lg" readonly />
                </div>
            </div>
        </div>

        <!-- Security Settings -->
        <div class="bg-white rounded-xl shadow-lg overflow-hidden">
            <div class="bg-gray-50 px-6 py-4 border-b">
                <h3 class="text-lg font-semibold text-gray-800">Security Settings</h3>
            </div>
            <div class="p-6 flex justify-between items-center">
                <div>
                    <h4 class="font-medium text-gray-800">Password</h4>
                    <p class="text-sm text-gray-600">Last updated @Model.PasswordLastUpdated.ToString("MMMM dd, yyyy")</p>
                </div>
                <button class="bg-acadus-green text-white px-4 py-2 rounded-lg hover:bg-acadus-light-green transition">
                    Change Password
                </button>
            </div>
        </div>
    }
</main>
